<!DOCTYPE html>
<html>
<body>
    <nav class="nav">
        <a class="brand" href="#top">Egan's Begans!</a>

        <ul class="menu">
	    <li><a href="index.html">Home</a><li>
	    <li class="dropdown">
    	        <button class="dropbtn" aria-expanded="false" aria-controls="more-menu">More</button>
	        <ul id="more-menu" class="dropdown-content" role="menu">
	            <li><a href="#projects" role="menuitem">Projects</a><li>
		    <li><a href="https://github.com/EganO11" target="_blank" rel="noopener" role="menuitem">Github</a><li>
		    <li><a href="contact" role="menuitem">Contact</a><li>
	        </ul>
	    </li>
        </ul>
    </nav>

    <script>
	const btn = document.querySelector('.dropbtn');
	const menu = document.getElementById('more-menu');

	function closeOnOutsideClick(e) {
	    if (!menu.contains(e.target) && !btn.contains(e.target)) {
		menu.classList.remove('show');
		btn.setAttribute('aria-expanded', 'false');
		document.removeEventListener('click', closeOnOutsideClick);
	    }
	}
	
	btn?.addEventListener('click', (e) => {
	    e.preventDefault();
	    const open = menu.classList.toggle('show');
	    btn.setAttribute('aria-expanded', String(open));
	    if (open) document.addEventListener('click', closeOnOutsideClick);
	});
    </script>